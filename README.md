# Chinese Chess Assistant (è±¡æ£‹åŠ©æ‰‹)

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä¸­å›½è±¡æ£‹è¾…åŠ©åº”ç”¨ï¼ŒåŸºäº Pikafish å¼•æ“ï¼Œæ”¯æŒæ‚¬æµ®çª—æ˜¾ç¤ºç€æ³•å»ºè®®å’Œå±å¹•æ£‹ç›˜è¯†åˆ«ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **AI å¼•æ“é›†æˆ**: åŸºäº UCI åè®®é›†æˆ Pikafish è±¡æ£‹å¼•æ“ï¼Œæä¾›ä¸“ä¸šçº§çš„èµ°æ³•åˆ†æ
- **æ‚¬æµ®çª—æ”¯æŒ**: åœ¨å±å¹•ä¸Šæ–¹æ˜¾ç¤ºè±¡æ£‹æ£‹ç›˜å’Œç€æ³•æç¤ºï¼Œæ”¯æŒæ‹–åŠ¨å’Œè°ƒæ•´å¤§å°
- **å±å¹•æ£‹ç›˜è¯†åˆ«**: ä½¿ç”¨ OpenCV è¿›è¡Œå±å¹•æˆªå›¾å’Œæ£‹å­è¯†åˆ«
- **å®æ—¶ç€æ³•å»ºè®®**: åˆ†æå½“å‰å±€é¢ï¼Œæ˜¾ç¤ºæœ€ä½³ç€æ³•å’Œç®­å¤´æŒ‡ç¤º

### æŠ€æœ¯ç‰¹æ€§
- **ç°ä»£ UI**: ä½¿ç”¨ Jetpack Compose æ„å»ºçš„ç°ä»£åŒ–ç•Œé¢
- **MVVM æ¶æ„**: æ¸…æ™°çš„é¡¹ç›®ç»“æ„ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **åç¨‹æ”¯æŒ**: ä½¿ç”¨ Kotlin åç¨‹å¤„ç†å¼‚æ­¥æ“ä½œ
- **å®Œæ•´çš„è±¡æ£‹è§„åˆ™**: å®ç°æ‰€æœ‰ä¸­å›½è±¡æ£‹è§„åˆ™ï¼ˆå°†/å¸…ã€å£«ã€è±¡ã€è»Šã€é©¬ã€ç‚®ã€å…µï¼‰

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
ChineseChessAssistant/
â”œâ”€â”€ app/src/main/java/com/chess/assistant/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ chess/          â† è±¡æ£‹æ ¸å¿ƒæ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ PieceColor.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ PieceType.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ Position.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ ChessPiece.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ Move.kt
â”‚   â”‚   â”‚   â””â”€â”€ ChessBoard.kt
â”‚   â”‚   â”œâ”€â”€ engine/          â† UCI å¼•æ“é€šä¿¡
â”‚   â”‚   â”‚   â”œâ”€â”€ UciEngine.kt
â”‚   â”‚   â”‚   â””â”€â”€ EngineManager.kt
â”‚   â”‚   â”œâ”€â”€ capture/         â† å±å¹•æˆªå–
â”‚   â”‚   â”‚   â””â”€â”€ ScreenCaptureService.kt
â”‚   â”‚   â”œâ”€â”€ recognition/     â† æ£‹ç›˜è¯†åˆ«
â”‚   â”‚   â”‚   â””â”€â”€ ChessBoardRecognizer.kt
â”‚   â”‚   â”œâ”€â”€ overlay/         â† æ‚¬æµ®çª—
â”‚   â”‚   â”‚   â””â”€â”€ OverlayService.kt
â”‚   â”‚   â””â”€â”€ ui/              â† Compose UI
â”‚   â”‚       â””â”€â”€ ChessBoardView.kt
â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â””â”€â”€ ChineseChessAssistantApp.kt
â””â”€â”€ app/src/main/res/
    â”œâ”€â”€ values/
    â”‚   â”œâ”€â”€ strings.xml
    â”‚   â”œâ”€â”€ colors.xml
    â”‚   â””â”€â”€ themes.xml
    â””â”€â”€ drawable/
        â””â”€â”€ ic_launcher_foreground.xml
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Android Studio Hedgehog (2023.11.1) æˆ–æ›´é«˜ç‰ˆæœ¬
- JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- Android SDK 34 æˆ–æ›´é«˜ç‰ˆæœ¬

### å®‰è£…æ­¥éª¤
1. å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
2. åœ¨ Android Studio ä¸­æ‰“å¼€é¡¹ç›®
3. ç­‰å¾… Gradle åŒæ­¥å®Œæˆ
4. è¿æ¥è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
5. ç‚¹å‡» Run æŒ‰é’®è¿è¡Œåº”ç”¨

### é…ç½® Pikafish å¼•æ“
1. ä» [Pikafish å®˜ç½‘](https://pikafish.com/) ä¸‹è½½å¼•æ“æ–‡ä»¶
2. å°†å¼•æ“æ–‡ä»¶æ”¾å…¥ `/data/data/com.chess.assistant/` ç›®å½•
3. åœ¨åº”ç”¨ä¸­å¯åŠ¨å¼•æ“

## ğŸ“± ä½¿ç”¨è¯´æ˜

### æˆäºˆæƒé™
1. **æ‚¬æµ®çª—æƒé™**: è®¾ç½® â†’ åº”ç”¨ â†’ è±¡æ£‹åŠ©æ‰‹ â†’ æ‚¬æµ®çª—
2. **æˆªå±æƒé™**: åœ¨åº”ç”¨å†…ç‚¹å‡»"è¯·æ±‚æˆªå±æƒé™"

### ä¸»è¦åŠŸèƒ½
1. **å¯åŠ¨å¼•æ“**: ç‚¹å‡»ä¸»ç•Œé¢çš„"å¯åŠ¨å¼•æ“"æŒ‰é’®
2. **é€‰æ‹©é¢œè‰²**: é€‰æ‹©ä½ æ˜¯çº¢æ–¹è¿˜æ˜¯é»‘æ–¹
3. **æ‚¬æµ®çª—**: ç‚¹å‡»æ‚¬æµ®çª—æŒ‰é’®æ˜¾ç¤ºæ£‹ç›˜
4. **åˆ†æå±å¹•**: ç‚¹å‡»"åˆ†æå½“å‰å±å¹•"è¯†åˆ«æ£‹å±€

## ğŸ¯ æ ¸å¿ƒæ¨¡å—è¯´æ˜

### è±¡æ£‹æ•°æ®æ¨¡å‹ (core/chess)
- å®ç°å®Œæ•´çš„è±¡æ£‹è§„åˆ™
- æ”¯æŒå±€é¢éªŒè¯å’Œå°†å†›æ£€æµ‹
- æä¾›èµ°æ³•éªŒè¯

### UCI å¼•æ“é€šä¿¡ (core/engine)
- åŸºäº UCI åè®®ä¸ Pikafish é€šä¿¡
- æ”¯æŒ FEN æ ¼å¼è½¬æ¢
- æä¾›æœ€ä½³ç€æ³•åˆ†æ

### å±å¹•æˆªå– (core/capture)
- ä½¿ç”¨ MediaProjection API
- æ”¯æŒå®æ—¶å±å¹•æ•è·
- é«˜æ•ˆçš„å›¾åƒå¤„ç†

### æ£‹ç›˜è¯†åˆ« (core/recognition)
- ä½¿ç”¨ OpenCV è¿›è¡Œå›¾åƒå¤„ç†
- æ£‹å­æ£€æµ‹å’Œé¢œè‰²è¯†åˆ«
- æ£‹ç›˜ç½‘æ ¼å®šä½

### æ‚¬æµ®çª—æœåŠ¡ (core/overlay)
- Android Overlay API
- å¯æ‹–åŠ¨çš„æ‚¬æµ®çª—å£
- Compose UI é›†æˆ

## ğŸ”§ å¼€å‘è®¡åˆ’

- [ ] å®Œå–„æ£‹å­ç±»å‹è¯†åˆ«
- [ ] ä¼˜åŒ– OpenCV è¯†åˆ«ç®—æ³•
- [ ] æ·»åŠ å¼•æ“é…ç½®ç•Œé¢
- [ ] å®ç°å¤šå¼•æ“æ”¯æŒ
- [ ] æ·»åŠ ç€æ³•è®°å½•åŠŸèƒ½
- [ ] ä¼˜åŒ–æ€§èƒ½

## ğŸ“š å‚è€ƒèµ„æ–™

- [Pikafish è±¡æ£‹å¼•æ“](https://github.com/official-pikafish/Pikafish)
- [UCI åè®®æ–‡æ¡£](https://www.shredderchess.com/chess-features/uci-universal-chess-interface.html)
- [Android Overlay API](https://developer.android.com/reference/android/view/WindowManager.LayoutParams#TYPE_APPLICATION_OVERLAY)
- [Jetpack Compose](https://developer.android.com/jetpack/compose)
- [OpenCV Android](https://opencv.org/platforms/android/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª MIT è®¸å¯è¯å¼€æºã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**æ„Ÿè°¢ä½¿ç”¨è±¡æ£‹åŠ©æ‰‹ï¼** ğŸ‰
